%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CS630: Database Management Systems
% Copyright 2014 Pejman Ghorbanzade <mail@ghorbanzade.com>
% Creative Commons Attribution-ShareAlike 4.0 International License
% More info: https://bitbucket.org/ghorbanzade/umb-cs630-2014f
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{tikzpicture}[node distance=3cm, every edge/.style={link}]
\node[entity] (prof) {Professor};
\node[attribute] (ssn) [above left of = prof] {\key{SSN}} edge (prof);
\node[attribute] (name) [above right of = prof] {Name} edge (prof);

\node[relationship] (teaches) [right of = prof] {Teaches} edge [total] node[auto,swap] {1} (prof);
\node[entity] (course) [right of = teaches] {Course} edge node[auto,swap] {m} (teaches);
\node[attribute] (courseid) [above of=course] {\key{ID}} edge (course);
\node[attribute] (name) [above right of =course] {Name} edge (course);
\node[attribute] (credits) [below right of=course] {Credits} edge (course);

\node[relationship] (lives) [left of = prof] {Lives At} edge node[auto,swap] {m} (prof);
\node[entity] (address) [left of = lives] {Address} edge node[auto,swap] {m} (lives);
\node[attribute] (street) [above of = address] {Street} edge (address);
\node[attribute] (city) [above left of = address]{City} edge (address);
\node[attribute] (state) [below left of = address] {State} edge (address);
\node[attribute] (addressid) [below right of = address] {\key{ID}} edge (address);

\node[relationship] (has) [below of = prof] {Has} edge node[auto,swap] {1} (prof);
\node[entity] (phone) [right of = has] {Phone} edge node[auto,swap] {m} (has);
\node[attribute] (phoneid) [right of = phone] {\key{ID}} edge (phone);

\end{tikzpicture}
